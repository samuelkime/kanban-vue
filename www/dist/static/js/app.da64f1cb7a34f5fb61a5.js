webpackJsonp([1],{"4yUm":function(t,e){},"6XdX":function(t,e){},BzTH:function(t,e){},EFxO:function(t,e){},GiHe:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("h1",[this._v("KANBAN VUE")]),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var i=s("VU/8")({name:"App",mounted:function(){this.$store.dispatch("getAllBoards")}},o,!1,function(t){s("BzTH")},null,null).exports,a=s("/ocq"),r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comments"},[s("h6",[s("button",{on:{click:function(e){t.deleteComment()}}},[t._v("X")])]),t._v(" "),s("h5",[t._v(t._s(t.comment.body))])])},staticRenderFns:[]};var c={name:"task",props:["task"],components:{comment:s("VU/8")({name:"comment",props:["comment"],components:{},data:function(){return{}},computed:{comments:function(){return this.$store.state.comments}},methods:{editComment:function(){this.$store.dispatch("editComment",this.comment)},deleteComment:function(){this.$store.dispatch("deleteComment",this.comment)}}},r,!1,function(t){s("vXLS")},"data-v-013aaae2",null).exports},mounted:function(){this.$store.dispatch("getComments")},data:function(){return{comment:{body:""},selected:""}},computed:{comments:function(){return this.$store.state.comments},lists:function(){return this.$store.state.lists}},methods:{createComment:function(){this.comment.author=this.task.author,this.comment.taskId=this.task._id,this.$store.dispatch("createComment",this.comment),this.comment={body:""}},editTask:function(){this.$store.dispatch("editTask",this.task)},moveTask:function(){""!=this.selected&&(this.task.oldListId=this.task.listId,this.task.listId=this.selected,this.$store.dispatch("moveTask",this.task),this.selected="")},deleteTask:function(){this.$store.dispatch("deleteTask",this.task)}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task d-flex flex-column justify-content-start"},[s("div",{staticClass:"backgroundPic"},[s("h3",[s("button",{on:{click:function(e){t.deleteTask()}}},[t._v("X")])]),t._v(" "),s("h3",[t._v(t._s(t.task.title))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected=e.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:"",value:""}},[t._v("Please select one")]),t._v(" "),t._l(t.lists,function(e){return s("option",{domProps:{value:e._id}},[t._v(t._s(e.title))])})],2),t._v(" "),s("button",{on:{click:t.moveTask}},[t._v("Onward!")]),t._v(" "),s("form",{staticClass:"form-inline d-flex justify-content-center",on:{submit:function(e){return e.preventDefault(),t.createComment(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.comment.body,expression:"comment.body"}],attrs:{type:"text",name:"body",placeholder:"Comment Title"},domProps:{value:t.comment.body},on:{input:function(e){e.target.composing||t.$set(t.comment,"body",e.target.value)}}}),t._v(" "),s("button",{attrs:{type:"submit"}},[t._v("Add Comment")])]),t._v(" "),s("ul",t._l(t.comments[t.task._id],function(t){return s("li",[s("comment",{attrs:{comment:t}})],1)}))])])},staticRenderFns:[]};var l={name:"list",props:["list"],components:{task:s("VU/8")(c,u,!1,function(t){s("EFxO")},"data-v-1b593c9e",null).exports},mounted:function(){this.$store.dispatch("getTasks",this.list._id)},data:function(){return{task:{title:""}}},computed:{tasks:function(){return this.$store.state.tasks}},methods:{createTask:function(){this.task.author=this.list.author,this.task.listId=this.list._id,this.$store.dispatch("createTask",this.task),this.task={title:""}},editList:function(){this.$store.dispatch("editList",this.list)},deleteList:function(){this.$store.dispatch("deleteList",this.list)}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.list?s("div",{staticClass:"list col-4 ml-1 mt-3 mr-2 d-inline-flex flex-column"},[s("div",{staticClass:"backgroundPic"},[s("h5",[t._v(t._s(t.list.title)+"  "),s("button",{on:{click:function(e){t.deleteList()}}},[t._v("X")])]),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.createTask(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.task.title,expression:"task.title"}],staticClass:"mb-1",attrs:{type:"text",name:"title",placeholder:"Task Title"},domProps:{value:t.task.title},on:{input:function(e){e.target.composing||t.$set(t.task,"title",e.target.value)}}}),t._v(" "),s("button",{staticClass:"mb-3",attrs:{type:"submit"}},[t._v("Add Task")])]),t._v(" "),t._l(t.tasks[t.list._id],function(t){return s("task",{attrs:{task:t}})})],2)]):t._e()},staticRenderFns:[]};var m={name:"board",components:{list:s("VU/8")(l,d,!1,function(t){s("GiHe")},"data-v-a2a0b436",null).exports},mounted:function(){this.$store.dispatch("getLists",this.$route.params.boardId),this.$store.state.user._id||y.push({name:"Login"})},data:function(){return{list:{title:""}}},computed:{board:function(){var t=this;return this.$store.state.boards.find(function(e){return e._id==t.$route.params.boardId})},lists:function(){return this.$store.state.lists},user:function(){return this.$store.state.user}},methods:{backToAllBoards:function(){y.push({name:"AllBoards"})},createList:function(){this.list.boardId=this.board._id,this.list.author=this.user._id,this.$store.dispatch("createList",this.list),this.list={title:""}},editBoard:function(){this.$store.dispatch("editBoard",this.board)},deleteBoard:function(){this.$store.dispatch("deleteBoard",this.board)}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.board?s("div",{staticClass:"board container",attrs:{id:"outline"}},[s("button",{on:{click:function(e){t.backToAllBoards()}}},[t._v("Back to My Boards")]),t._v(" "),s("h3",[t._v(t._s(t.board.title)+"\n        "),s("button",{on:{click:function(e){t.deleteBoard()}}},[t._v("X")])]),t._v(" "),s("form",{staticClass:"mb-2",on:{submit:function(e){return e.preventDefault(),t.editBoard(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.board.title,expression:"board.title"}],attrs:{type:"text",name:"title",placeholder:"New Board Name Here"},domProps:{value:t.board.title},on:{input:function(e){e.target.composing||t.$set(t.board,"title",e.target.value)}}}),t._v(" "),s("button",{attrs:{type:"submit"}},[t._v("Change Board Name")])]),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.createList(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.list.title,expression:"list.title"}],attrs:{type:"text",name:"title",placeholder:"List Title"},domProps:{value:t.list.title},on:{input:function(e){e.target.composing||t.$set(t.list,"title",e.target.value)}}}),t._v(" "),s("button",{attrs:{type:"submit"}},[t._v("Make a List")])]),t._v(" "),t._l(t.lists,function(t){return s("list",{attrs:{list:t}})})],2):t._e()},staticRenderFns:[]};var h=s("VU/8")(m,p,!1,function(t){s("S6lw")},"data-v-df774664",null).exports,f={name:"allBoards",components:{board:h},data:function(){return{board:{title:"",author:""}}},computed:{boards:function(){return this.$store.state.boards},user:function(){return this.$store.state.user}},methods:{logout:function(){this.$store.dispatch("logout"),y.push("Login")},openBoard:function(t){y.push({name:"Board"})},createBoard:function(){this.board.author=this.user._id,this.$store.dispatch("createBoard",this.board)}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"allBoards container d-flex flex-column align-items-center"},[s("button",{on:{click:t.logout}},[t._v("Logout")]),t._v(" "),s("h3",[t._v("Welcome Back!")]),t._v(" "),s("h3",[t._v("My Boards")]),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.createBoard(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.board.title,expression:"board.title"}],attrs:{type:"text",name:"title",placeholder:"Board Title"},domProps:{value:t.board.title},on:{input:function(e){e.target.composing||t.$set(t.board,"title",e.target.value)}}}),t._v(" "),s("button",{attrs:{type:"submit"}},[t._v("Make a Board")])]),t._v(" "),s("ol",{staticClass:"tmargin"},t._l(t.boards,function(e){return s("li",{key:e._id,staticClass:"bmargin"},[s("router-link",{attrs:{to:{name:"Board",params:{boardId:e._id}}}},[t._v(t._s(e.title))])],1)}))])},staticRenderFns:[]};var g=s("VU/8")(f,v,!1,function(t){s("4yUm")},"data-v-2f0e7254",null).exports,_={name:"Home",components:{allBoards:g},data:function(){return{}},mounted:function(){this.$store.state.user._id||y.push({name:"Login"})},methods:{logout:function(){this.$store.dispatch("logout"),y.push("Login")}}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("allBoards"),this._v(" "),e("button",{on:{click:this.logout}},[this._v("Logout")])],1)},staticRenderFns:[]};var k=s("VU/8")(_,b,!1,function(t){s("bNsu")},"data-v-5ca8bcc8",null).exports,$={name:"",mounted:function(){this.$store.state.user._id||this.$store.dispatch("authenticate")},data:function(){return{login:{email:"",password:""}}},computed:{},methods:{userLogin:function(){this.$store.dispatch("login",this.login)},switchRegister:function(){y.push({name:"Register"})}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-page"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.userLogin(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],attrs:{type:"text",name:"email",id:"email",placeholder:"Email Address"},domProps:{value:t.login.email},on:{input:function(e){e.target.composing||t.$set(t.login,"email",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],attrs:{type:"password",name:"password",id:"password",placeholder:"Password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}}),t._v(" "),s("button",{attrs:{type:"submit"}},[t._v("LOGIN")])]),t._v(" "),s("button",{on:{click:t.switchRegister}},[t._v("Not a user? Click here to register")])])},staticRenderFns:[]};var C=s("VU/8")($,w,!1,function(t){s("XCJj")},null,null).exports,B={name:"register",data:function(){return{register:{username:"",email:"",password:""}}},computed:{},methods:{userRegister:function(){this.$store.dispatch("register",this.register)},switchLogin:function(){y.push({name:"Login"})}}},L={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.userRegister(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.register.username,expression:"register.username"}],attrs:{type:"text",name:"username",id:"username",placeholder:"username"},domProps:{value:t.register.username},on:{input:function(e){e.target.composing||t.$set(t.register,"username",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.register.email,expression:"register.email"}],attrs:{type:"text",name:"email",id:"email",placeholder:"Email Address"},domProps:{value:t.register.email},on:{input:function(e){e.target.composing||t.$set(t.register,"email",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.register.password,expression:"register.password"}],attrs:{type:"password",name:"password",id:"password",placeholder:"Password"},domProps:{value:t.register.password},on:{input:function(e){e.target.composing||t.$set(t.register,"password",e.target.value)}}}),t._v(" "),s("button",{attrs:{type:"submit"}},[t._v("Register")])]),t._v(" "),s("button",{on:{click:t.switchLogin}},[t._v("Already a user? Click here to login!")])])},staticRenderFns:[]};var x=s("VU/8")(B,L,!1,function(t){s("6XdX")},null,null).exports;n.a.use(a.a);var y=new a.a({routes:[{path:"/Login",name:"Login",component:C},{path:"/",name:"Home",component:k},{path:"/Register",name:"Register",component:x},{path:"/boards",name:"AllBoards",component:g},{path:"/boards/:boardId",name:"Board",props:!0,component:h}]}),T=s("NYxO"),N=s("mtWM"),I=s.n(N);n.a.use(T.a);var A=!window.location.host.includes("localhost")?"//kanban-tastic.herokuapp.com":"//localhost:3000",R=I.a.create({baseURL:A+"/api",timeout:3e3,withCredentials:!0}),U=I.a.create({baseURL:A,timeout:3e3,withCredentials:!0});var P=new T.a.Store({state:{user:{},boards:[],lists:[],list:{},tasks:{},comments:{}},mutations:{setUser:function(t,e){t.user=e},deleteUser:function(t){t.boards=[],t.lists=[],t.tasks={},t.comments={},t.user={}},setBoards:function(t,e){t.boards=e},setLists:function(t,e){t.lists=e},setTasks:function(t,e){n.a.set(t.tasks,e.listId,e.data)},setComments:function(t,e){t.comments=function(t,e){for(var s={},n=0;n<t.length;n++){var o=t[n];s[o[e]]?s[o[e]].push(o):(s[o[e]]=[],s[o[e]].push(o))}return s}(e,"taskId")}},actions:{login:function(t,e){var s=t.commit;t.dispatch;U.post("/auth/login",e).then(function(t){console.log("successfully logged in!"),s("setUser",t.data),y.push({name:"Home"})})},logout:function(t){var e=t.commit;t.dispatch;U.delete("/auth/logout").then(function(t){console.log("Successfully logged out!"),e("deleteUser"),y.push({name:"Login"})})},register:function(t,e){t.commit,t.dispatch;U.post("/auth/register",e).then(function(t){console.log("Registration Successful"),y.push({name:"Login"})})},authenticate:function(t){var e=t.commit;t.dispatch;U.get("/authenticate").then(function(t){e("setUser",t.data),y.push({name:"Home"})}).catch(function(t){console.log(t.data)})},getAllBoards:function(t,e){t.dispatch;var s=t.commit;R.get("/boards").then(function(t){console.log(t),s("setBoards",t.data)})},createBoard:function(t,e){var s=t.dispatch,n=(t.commit,t.state);R.post("/boards",e).then(function(t){console.log(t),s("getAllBoards",n.user)})},editBoard:function(t,e){t.dispatch,t.commit,t.state;R.put("/boards/"+e._id).then(function(t){console.log(t)})},deleteBoard:function(t,e){var s=t.dispatch;t.commit;R.delete("/boards/"+e._id).then(function(t){s("getAllBoards"),y.push({name:"AllBoards"})})},getLists:function(t,e){t.dispatch;var s=t.commit;R.get("/boards/"+e+"/lists").then(function(t){console.log(t),s("setLists",t.data)})},createList:function(t,e){var s=t.dispatch;t.commit,t.state;R.post("/lists",e).then(function(t){s("getLists",e.boardId)})},editList:function(t,e){t.dispatch,t.commit,t.state;R.put("/lists/"+e._id).then(function(t){console.log(t)})},deleteList:function(t,e){var s=t.dispatch;t.commit;R.delete("/lists/"+e._id).then(function(t){s("getLists",e.boardId)})},getTasks:function(t,e){t.dispatch;var s=t.commit;R.get("/lists/"+e+"/tasks").then(function(t){var n={data:t.data,listId:e};s("setTasks",n)})},createTask:function(t,e){var s=t.dispatch;t.commit,t.state;R.post("/tasks",e).then(function(t){s("getTasks",e.listId)})},editTask:function(t,e){t.dispatch,t.commit,t.state;R.put("/tasks/"+e._id).then(function(t){console.log(t)})},deleteTask:function(t,e){var s=t.dispatch;t.commit;R.delete("/tasks/"+e._id).then(function(t){s("getTasks",e.listId)})},moveTask:function(t,e){var s=t.dispatch;t.commit;R.put("/tasks/"+e._id,e).then(function(t){s("getTasks",e.listId),s("getTasks",e.oldListId)})},getComments:function(t,e){t.dispatch;var s=t.commit;R.get("/comments").then(function(t){console.log(t),s("setComments",t.data)})},createComment:function(t,e){var s=t.dispatch;t.commit,t.state;R.post("/comments",e).then(function(t){s("getComments",e.authorId)})},editComment:function(t,e){var s=t.dispatch,n=(t.commit,t.state);R.put("/comments/"+e._id).then(function(t){console.log(t),s("getComments",n.user.authorId)})},deleteComment:function(t,e){var s=t.dispatch;t.commit;R.delete("/comments/"+e._id).then(function(t){s("getComments")})}}});n.a.config.productionTip=!1,new n.a({el:"#app",router:y,store:P,components:{App:i},template:"<App/>"})},S6lw:function(t,e){},XCJj:function(t,e){},bNsu:function(t,e){},vXLS:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.da64f1cb7a34f5fb61a5.js.map